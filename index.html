<!-- FILE: cart.html -->
<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>FoodDrop — Cart</title>
<style>
:root{--accent:#ff6b35;--bg:#fbfbfc}
*{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial}
body{margin:0;background:var(--bg);min-height:100vh}
header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;background:#fff;box-shadow:0 1px 0 rgba(0,0,0,.04)}
main{padding:16px}
.card{background:#fff;padding:12px;border-radius:12px;box-shadow:0 6px 18px rgba(20,20,40,.04);margin-bottom:12px}
.row{display:flex;justify-content:space-between;align-items:center}
.qty{display:inline-flex;gap:6px;align-items:center}
.small{color:#666;font-size:13px}
.btn{padding:8px 12px;border-radius:10px;border:none;background:var(--accent);color:#fff;cursor:pointer}
.link{background:none;border:none;color:var(--accent);cursor:pointer;font-weight:700}
</style>
</head>
<body>
<header>
<div style="display:flex;align-items:center;gap:12px">
<button onclick="location.href='menu.html'" class="link">← Back</button>
<div style="font-weight:700">Your cart</div>
</div>
<div id="userName" class="small"></div>
</header>


<main id="main"></main>


<script>
function getCart(){return JSON.parse(localStorage.getItem('fd_cart')||'[]')}
function setCart(c){localStorage.setItem('fd_cart', JSON.stringify(c)); render()}


function render(){
const main = document.getElementById('main'); main.innerHTML='';
const cart = getCart();
if(cart.length===0){main.innerHTML = '<div style="padding:20px;text-align:center;color:#666">Your cart is empty. Add tasty items from the menu.</div>'; return}
cart.forEach(item=>{
const el = document.createElement('div'); el.className='card';
el.innerHTML = `\n <div class="row">\n <div>\n <div style=\"font-weight:700\">${item.title}</div>\n <div class=\"small\">$${item.price.toFixed(2)} each</div>\n </div>\n <div class=\"qty\">\n <button class=\"link\" data-act=\"dec\" data-id=\"${item.id}\">−</button>\n <div style=\"min-width:28px;text-align:center\">${item.qty}</div>\n <button class=\"link\" data-act=\"inc\" data-id=\"${item.id}\">+</button>\n </div>\n </div>`;
main.appendChild(el);
});
const total = cart.reduce((s,i)=>s + i.price*i.qty, 0);
const footer = document.createElement('div'); footer.className='card';
footer.innerHTML = `\n <div class=\"row\">\n <div style=\"font-weight:800\">Total</div>\n <div style=\"font-weight:800\">$${total.toFixed(2)}</div>\n </div>\n <div style=\"margin-top:12px;text-align:right\">\n <button class=\"btn\" id=\"checkout\">Checkout</button>\n </div>`;
main.appendChild(footer);


// add handlers for qty buttons
document.querySelectorAll('[data-act]').forEach(btn=>{
btn.addEventListener('click', e=>{
const id = Number(btn.dataset.id); const act = btn.dataset.act;
const cart = getCart();
const idx = cart.findIndex(x=>x.id===id);
if(idx===-1) return;
if(act==='inc') cart[idx].qty += 1;
if(act==='dec'){ cart[idx].qty -= 1; if(cart[idx].qty<=0) cart.splice(idx,1)}
</html>
